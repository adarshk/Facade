<DOCTYPE html>

	<html lang="en">
		<head>
			<title></title>
			<meta charset="utf-8">
			<meta name-"viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		</head>
		<body>

<!--div id="map-container"></div-->

			<!-- Modal -->
			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			        <h4 class="modal-title" id="myModalLabel">Welcome to Facade</h4>
			        <h5>Choose your story type</h5>
			      </div>
			      <div class="modal-body">
			        <div class="btn-group">

			        <div id="linear-img">
			  			<img class="one-edge-shadow" src="images/swipe.png" style="float: left; margin-left: 8%; margin-right: 2%;"  width="40%";height="40%" class="img-responsive img-rounded" alt="Responsive image">
			  		</div>

			  		<div id="full_img">
			  			<img src="images/infographics.png" style="float: right; margin-left: 1%; margin-right: 4%;" width="40%";height="40%" class="img-responsive img-rounded" alt="Responsive image">
			  		</div>
			</div>
			      </div>
			      <div class="modal-footer">
			        <!--button type="button" class="btn btn-default" data-dismiss="modal">Close</button-->
			        <button type="button" class="btn btn-primary">Save changes</button>
			      </div>
			    </div>
			  </div>
			</div>

			<link rel="stylesheet" type="text/css" href="css/main.css">
			<link id="theme" href="css/light.css" rel="stylesheet" />

			<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
			<link rel="stylesheet" href="css/modal.css">
			<script src="js/jquery/jquery.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

			<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>


			<script src="build/three.js"></script>
			<script src="examples/js/libs/system.min.js"></script>


			<!--script src="build/d3.min.js"></script>
			<script src="build/d3-threeD.js"></script>
			<script src="build/ThreeCSG.js"></script>
			<script src="build/Detector.js"></script>
			<script src="build/tween.js"></script-->

			<script src="examples/js/controls/EditorControls.js"></script>
			<script src="examples/js/controls/TransformControls.js"></script>
			<script src="examples/js/controls/OrbitControls.js"></script>

			<script src="examples/js/renderers/Projector.js"></script>
			<script src="examples/js/renderers/RaytracingRenderer.js"></script>


			<link rel="stylesheet" type="text/css" href="js/libs/codemirror/codemirror.css">
			<link rel="stylesheet" type="text/css" href="js/libs/codemirror/theme/monokai.css">
			<script src="js/libs/codemirror/codemirror.js"></script>
			<script src="js/libs/codemirror/mode/javascript.js"></script>

			<script src="js/libs/signals.min.js"></script>

			<script src="js/libs/ui.js"></script>
			<script src="js/libs/ui.three.js"></script>
			<script src="js/libs/ui.media.js"></script>
			<script src="js/libs/ui.states.js"></script>

			<script src="js/libs/app.js"></script>
			<script src="js/Player.js"></script>
			<script src="js/Script.js"></script>
			<!--script src="js/Storage.js"></script-->

			<script src="js/Editor.js"></script>
			<script src="js/Config.js"></script>
			<script src="js/Loader.js"></script>

			<!--script src="js/Menubar.js"></script>
			<script src="js/Sidebar.js"></script>
			<script src="js/Toolbar.js"></script-->

			<script src="js/Sidebar.js"></script>
			<script src="js/Sidebar.Properties.js"></script>
			<script src="js/Sidebar.Forms.js"></script>
			<script src="js/Sidebar.States.js"></script>
			<script src="js/Viewport.js"></script>
			<script src="js/Viewport.Info.js"></script>
			<script src="js/ViewportContainers.js"></script>


			<script type="text/javascript">
			/*$(window).load(function() {
				$('#myModal').modal('show');

				$('img').click(function(){
    			$('.edge-shadow').removeClass('edge-shadow');
    			$(this).addClass('edge-shadow');
				});

			});*/
			</script>


			<script>
				window.URL = window.URL || window.webkitURL;
				window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;

			var editor = new Editor();

			var viewport = new Viewport( editor );
			document.body.appendChild( viewport.dom );

			var script = new Script( editor );
			document.body.appendChild( script.dom );

			var player = new Player( editor );
			document.body.appendChild( player.dom );

			var sidebar = new Sidebar(editor);
			document.body.appendChild(sidebar.dom);

			var vc = new ViewportContainers(editor);
			document.body.appendChild(vc.dom);			

			// $('.icon-container').on('mouseenter', 'option', function(e) {
			// 	console.log("Touched");
			// });

			
			

			// $('.icon-container').hover(function(){

   //  			$(this).css('background:teal');

   //  		});

			
						editor.setTheme( editor.config.getKey( 'theme' ) );

			/*editor.storage.init( function () {

				editor.storage.get( function ( state ) {

					if ( state !== undefined ) {

						editor.fromJSON( state );

					}

					var selected = editor.config.getKey( 'selected' );

					if ( selected !== undefined ) {

						editor.selectByUuid( selected );

					}

				} );

				//

				var timeout;

				var saveState = function ( scene ) {

					if ( editor.config.getKey( 'autosave' ) === false ) {

						return;

					}

					clearTimeout( timeout );

					timeout = setTimeout( function () {

						editor.signals.savingStarted.dispatch();

						timeout = setTimeout( function () {

							editor.storage.set( editor.toJSON() );

							editor.signals.savingFinished.dispatch();

						}, 100 );

					}, 1000 );

				};

				var signals = editor.signals;

				signals.editorCleared.add( saveState );
				signals.geometryChanged.add( saveState );
				signals.objectAdded.add( saveState );
				signals.objectChanged.add( saveState );
				signals.objectRemoved.add( saveState );
				signals.materialChanged.add( saveState );
				signals.sceneGraphChanged.add( saveState );
				signals.scriptChanged.add( saveState );

				var showDialog = function ( content ) {

					dialog.clear();

					dialog.add( content );
					dialog.showModal();

				};

				signals.showDialog.add( showDialog );

			} );*/

			//

			document.addEventListener( 'dragover', function ( event ) {

				event.preventDefault();
				event.dataTransfer.dropEffect = 'copy';

			}, false );

			document.addEventListener( 'drop', function ( event ) {

				event.preventDefault();
				editor.loader.loadFile( event.dataTransfer.files[ 0 ] );

			}, false );

			document.addEventListener( 'keydown', function ( event ) {

				switch ( event.keyCode ) {

					case 8: // prevent browser back
						event.preventDefault();
						break;

				}

			}, false );

			var onWindowResize = function ( event ) {

				editor.signals.windowResize.dispatch();

			};

			window.addEventListener( 'resize', onWindowResize, false );

			onWindowResize();

			//

			var hash = window.location.hash;

			if ( hash.substr( 1, 4 ) === 'app=' ) {

				if ( confirm( 'Any unsaved data will be lost. Are you sure?' ) ) {

					var loader = new THREE.XHRLoader();
					loader.crossOrigin = '';
					loader.load( hash.substr( 5 ), function ( text ) {

						var json = JSON.parse( text );

						editor.clear();
						editor.fromJSON( json );

					} );

				}

			}



			</script>

			<script>
			/*$(".icon-container").hover(

				function() {
	    			//console.log(event.currentTarget.firstChild.className);
	    			$(this).css('background','#72FFE6');
	    			//#fff0dc  72FFE6 87FFBC 
	    		},

	    		function(){
	    			$(this).css('background','');

	    		}

    		);


    		

			$(".icon-container").click(
				function() {
	    			//console.log(event.currentTarget.firstChild.className);
	    			$(this).css('background','#72FFE6');
	    			//#fff0dc  72FFE6 87FFBC 
	    		}
			);*/

			</script>

			<script>

				$(function() {
    $('body').on('mousedown', '.icon-container', function() {
        $(this).addClass('draggable').parents().on('mousemove', function(e) {
            $('.draggable').offset({
                top: e.pageY - $('.draggable').outerHeight() / 2,
                left: e.pageX - $('.draggable').outerWidth() / 2
            }).on('mouseup', function() {
                $(this).removeClass('draggable');
            });
        });
        e.preventDefault();
    }).on('mouseup', function() {
        $('.draggable').removeClass('draggable');
    });
});

			</script>


		</body>

	</html>